<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sport Image Captioning (VN)</title>

  <!-- Inter font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet"/>

  <!-- Styles -->
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>Sport Image Captioning (VN)</h1>
      <div class="helper-text">
        <p><strong>Mô tả:</strong> Ứng dụng demo tạo mô tả <em>(caption)</em> <b>tiếng Việt</b> cho <b>ảnh thể thao</b> bằng các mô hình <b>CNN-LSTM</b>, <b>CNN-T5</b> và <b>ViT-T5</b>. Tải ảnh lên, chọn mô hình, đặt số caption rồi bấm <b>Generate captions</b>.</p>
        <ul>
          <li>Ngôn ngữ đầu ra: <b>Tiếng Việt</b>, câu ngắn gọn, tự nhiên.</li>
          <li>Hỗ trợ sinh <b>1–5 caption/ảnh</b>.</li>
        </ul>
      </div>
    </header>

    <main class="main-layout">
      <!-- LEFT: Upload + preview + control bar -->
      <section class="card">
        <div class="card-title">Upload ảnh</div>

        <!-- Dropzone / preview -->
        <div class="upload-area" id="dropzone">
          <div class="image-preview preview--fit" id="preview">
            <div class="image-placeholder">
              <strong>Kéo & thả ảnh vào đây</strong><br/>
              Hoặc nhấn để chọn tệp (JPEG/PNG)<br/>
              <small>Hỗ trợ dán ảnh từ clipboard (Ctrl/Cmd + V)</small>
            </div>
          </div>
          <input type="file" id="fileInput" accept="image/*" hidden />
        </div>

        <!-- Compact control bar -->
        <div class="control-bar">
          <div class="segment" id="modelSegment">
            <button class="segment-btn is-active" data-model="cnn_lstm">cnn_lstm</button>
            <button class="segment-btn" data-model="cnn_t5">cnn_t5</button>
            <button class="segment-btn" data-model="vit_t5">vit_t5</button>
          </div>

          <button class="icon-btn" id="btnRefresh" title="Refresh models" aria-label="Refresh models">
            ⟳
          </button>

          <div class="pills" id="countPills">
            <button class="pill is-active" data-count="1">1</button>
            <button class="pill" data-count="2">2</button>
            <button class="pill" data-count="3">3</button>
            <button class="pill" data-count="4">4</button>
            <button class="pill" data-count="5">5</button>
          </div>

          <button class="generate-btn" id="generateBtn">
            Generate captions
          </button>
        </div>

        <p class="control-hint">Chọn model và số caption, sau đó bấm Generate.</p>
      </section>

      <!-- RIGHT: Captions -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">Captions (vi)</div>
          <div class="actions">
            <button class="icon-btn" id="btnCopy" title="Copy to clipboard" aria-label="Copy captions">⧉</button>
            <button class="icon-btn" id="btnDownload" title="Download .txt" aria-label="Download captions">⬇</button>
          </div>
        </div>

        <pre class="results-box" id="resultsBox">
        <!-- Empty state -->
        </pre>

        <div class="foot-row">
          <div class="latency" id="latencyText">⏱ Latency: —</div>
          <div class="imgsize" id="imgSizeText">Image size: —</div>
        </div>
      </section>
    </main>
  </div>

  <script src="./script.js"></script>
</body>
</html>
